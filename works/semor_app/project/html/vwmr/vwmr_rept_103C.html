<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>vwmr_rept_103C</title>
    <link rel="stylesheet" href="../../css/swiper-bundle.min.css">
    <link rel="stylesheet" href="../../css/semoR_base.css">
    <link rel="stylesheet" href="../../css/semoR_common.css">
    <link rel="stylesheet" href="../../css/semoR_style.css">
    <link rel="stylesheet" href="../../css/semoR_rept.css">
  <script src="../../js/jquery-3.5.1.min.js"></script>
    <script src="../../js/jquery-ui.min.js"></script>
    <script src="../../js/swiper-bundle.min.js"></script>
    <script src="../../js/chart-3.5.1.min.js"></script>
    <script src="../../js/semoR_ui.js"></script>
</head>

<body>
    <!-- wrapper -->
    <div class="wrapper">
        <!-- header -->
        <div class="header">
            <ul class="topMenu">
                <li class="left">
                    <a class="btnBack" href="javascript:;" role="button"><span class="blind">뒤로가기</span></a>
                </li>
                <li class="right">
                    <a class="btnChat" href="javascript:;" role="button"><span class="blind">채팅</span></a>
                    <a class="btnShare" href="javascript:;" role="button"><span class="blind">공유</span></a>
                </li>
            </ul>
        </div>
        <!-- //header -->

        <!-- container -->
        <div class="container">
            <div class="busiReptWrap">
                <div class="titArea">
                    <div class="areaReptLogo">
                        <img src="../../img/ico_smartTax_v2.png">
                    </div>
                </div>
                
                <!-- 보고서 상단 공통 -->
                <div class="reptMsgWrap">
                    <h2 class="defTit">23년 03월 사업분석 보고서</h2>
                    <ul class="reportMsgList">
                        <li class="pdt0">
                            <div class="busiInfoWrap">
                                <ul class="listDot type03 mgb0">
                                    <li>
                                        <p class="tit">사업장명</p>
                                        <div class="areaData">
                                            <span class="data">이로운 세모가게</span>
                                        </div>
                                    </li>
                                    <li>
                                        <p class="tit">과세유형</p>
                                        <div class="areaData">
                                            <span class="data">일반과세자</span>
                                        </div>
                                    </li>
                                    <li>
                                        <p class="tit">귀속 기간</p>
                                        <div class="areaData">
                                            <span class="data">22.12.01 ~ 22.12.31</span>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                        </li>
                        <li>
                            <p class="defTxt">
                                사장님, 안녕하세요.<br>
                                23년 01월 매출매입 보고서를 보내드립니다.<br>
                                아래에서 내용 확인하시고 사업현황을<br>
                                점검해보세요.
                            </p>
                        </li>
                        <li>
                            <p class="defTxt">
                                보고서 관련 또는 기타 문의사항이 있으시면<br>
                                언제든지 채팅으로 문의해주세요.<br>
                                감사합니다. ^^
                            </p>
                        </li>
                        <li>
                            <div class="infoArea">
                                <div class="rCont">
                                    <a href="javascript:;" class="moveLink chat">
                                        <span class="pointColor06">채팅 문의하기</span>
                                        <div class="rCont">
                                            <img class="tsRight" src="../../img/ico_ts_right_gray.png" alt="오른쪽화살표">
                                        </div>
                                    </a>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
                <!-- //보고서 상단 공통 -->
    
                <div class="areaReptTab">
                    <ul class="tabMenuList type03">
                
                        <!-- 활성화시 active -->
                        <li>
                            <a href="javascript:;" class="btnTab" role="button">손익</a>
                        </li>
                        <li class="active">
                            <a href="javascript:;" class="btnTab" role="button">세금</a>
                        </li>
                        <li>
                            <a href="javascript:;" class="btnTab" role="button">상권</a>
                        </li>
                    </ul>
                </div>
    
                <div class="busiReptCont">
                    <div class="titArea">
                        <h1 class="defTit">
                            <p class="subTitGray">부가세 · 원천세</p>
                            03월까지 신고 완료된 세금은<br>
                            <span class="fwBold">179만원</span> 정도였어요.
                        </h1>
                        <h3 class="defTit pointColor06">홈택스 세금 신고서와 납부서로 계산해요.</h3>
                    </div>
                
                    <!-- 부가세 추이 -->
                    <div class="productWrap">
                        <div class="titArea">
                            <h2 class="defTit type02">• 부가세 추이</h2>
                            <div class="sumWrap">
                                <p class="defTxt">올해 누적 : 0원</p>
                                <p class="defTxt02">작년 누적 : 9,981,420원</p>
                            </div>
                        </div>
                        <div class="areaChart">
                            <div class="compareLabelWrap">
                                <div class="compaerLabel">
                                    <span class="chartLabel prev"></span> 작년
                                </div>
                                <div class="compaerLabel">
                                    <span class="chartLabel current"></span> 올해
                                </div>
                            </div>
                            <div class="averageLabelWrap">
                                <div class="averageLabel">
                                    <span class="prevBadge"></span>
                                    <em class="val">작년 평균: 0만원</em>
                                </div>
                                <div class="averageLabel">
                                    <span class="currentBadge"></span>
                                    <em class="val">올해 평균: 269만원</em>
                                </div>
                            </div>
                            <canvas id="taxBar"></canvas>
                        </div>
                    </div>
                    <!-- //부가세 추이 -->
                
                    <!-- 원천세 추이 -->
                    <div class="productWrap">
                        <div class="titArea">
                            <h2 class="defTit type02">• 원천세 추이</h2>
                            <div class="sumWrap">
                                <p class="defTxt">올해 누적 : 7,891,400원</p>
                                <p class="defTxt02">작년 누적 : 0원</p>
                            </div>
                        </div>
                        <div class="areaChart">
                            <div class="compareLabelWrap">
                                <div class="compaerLabel">
                                    <span class="chartLabel prev"></span> 작년
                                </div>
                                <div class="compaerLabel">
                                    <span class="chartLabel current"></span> 올해
                                </div>
                            </div>
                            <div class="averageLabelWrap">
                                <div class="averageLabel">
                                    <span class="prevBadge"></span>
                                    <em class="val">작년 평균: 0만원</em>
                                </div>
                                <div class="averageLabel">
                                    <span class="currentBadge"></span>
                                    <em class="val">올해 평균: 269만원</em>
                                </div>
                            </div>
                            <canvas id="taxBar02"></canvas>
                        </div>
                    </div>
                    <!-- //원천세 추이 -->
                
                    <!-- 받은 납부서 -->
                    <div class="titArea">
                        <h2 class="defTit type02">
                            • 최근 받은 납부고지서
                        </h2>
                        <div class="rCont">
                            <h2 class="defTit mg0">2건</h2>
                        </div>
                    </div>
                    <div class="confirmMsg">
                        <p class="pushTxt">새로 납부서가 오면 알려드릴게요.</p>
                    </div>
                    <!-- //받은 납부서 -->
                
                    <!-- 다가오는 납부 일정 -->
                    <div class="paySchedule">
                        <div class="titArea">
                            <h2 class="defTit type02">· 다가오는 납부 일정</h2>
                        </div>
                
                        <ul class="roundBoxWrap type02">
                            <li class="roundBox">
                                <div class="left">
                                    <strong class="date">7월 10일</strong>
                                </div>
                                <span class="bar"></span>
                                <div class="right">
                                    <p class="defTxt02 ellipsis">
                                        2023년 상반기 원천세납세세세세세세
                                    </p>
                                </div>
                            </li>
                            <li class="roundBox">
                                <div class="left">
                                    <strong class="date">7월 24일</strong>
                                </div>
                                <span class="bar"></span>
                                <div class="right">
                                    <p class="defTxt02 ellipsis">
                                        2023년 1기 부가가치세 예정고지세액
                                    </p>
                                </div>
                            </li>
                        </ul>
                    </div>
                    <!-- //다가오는 납부 일정 -->
                </div>
    
                <!-- 보고서 공통 footer -->
                <footer class="includeFooter">
                    <!-- 응원 -->
                    <div class="cheeringWrap">
                        <div class="roundBoxWrap type02">
                            <div class="roundBox">
                                <strong class="tit">진도준 사장님</strong>
                                <p class="defTxt02">
                                    좋은 하루 되세요!<br>
                                    작은 응원은 힘이 됩니다 ^^
                                </p>
                                <div class="cheerBox">
                                    <ul class="cheerList">
                                        <li>
                                            <a href="javascript:;">
                                                <img src="../../img/ico_cheer01.png">
                                                <p class="defTxt02">훌륭해요</p>
                                            </a>
                                        </li>
                                        <li>
                                            <a href="javascript:;">
                                                <img src="../../img/ico_cheer02.png">
                                                <p class="defTxt02">감사해요</p>
                                            </a>
                                        </li>
                                        <li>
                                            <a href="javascript:;">
                                                <img src="../../img/ico_cheer03.png">
                                                <p class="defTxt02">좋아요</p>
                                            </a>
                                        </li>
                                        <li>
                                            <a href="javascript:;">
                                                <img src="../../img/ico_cheer04.png">
                                                <p class="defTxt02">아쉬워요</p>
                                            </a>
                                        </li>
                                        <li>
                                            <a href="javascript:;">
                                                <img src="../../img/ico_cheer05.png">
                                                <p class="defTxt02">별로에요</p>
                                            </a>
                                        </li>
                                    </ul>
                                    <div class="areaLike">
                                        <span class="defTxt02">999+명이 좋아해요</span>
                                        <div class="areaBodyBtn">
                                            <button type="button" class="btnPointBd">
                                                <img src="../../img/ico_cheer01.png" alt="">
                                                <span>좋아요</span>
                                            </button>
                                            <button type="button" class="btnBdGray">의견 보내기</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- //응원 -->
                
                    <ul class="reportMsgList">
                        <li>
                            <div class="areaStateMsg">
                                <span class="defTxt02">읽음 : 22.09.06 13:55</span>
                            </div>
                        </li>
                    </ul>
                
                    <hr class="grayLine02 mgt15">
                    <div class="infoRept">
                        <h4 class="defTit">안내사항</h4>
                        <p class="defTxt02">
                            모든 보고서는 사장님의 신고 데이터를 기반으로 작성되며, 홈택스
                            정보에 따라 실제와 오차가 발생할 수 있어 사장님의 사업관리를 위한
                            참고 자료로 활용해주세요.
                        </p>
                    </div>
    
                    <!-- 하단 플로팅버튼 -->
                    <div class="areaFloatingBtn btnTop">
                        <a href="javascript:;" role="button">
                            <img src="../../img/ico_ts_up.png" width="9px">
                            <p>TOP</p>
                        </a>
                    </div>
                    <!-- //하단 플로팅버튼 -->
                </footer>
                <!-- //보고서 공통 footer -->
            </div>
        </div>
        <!-- //container -->
    </div>
    <!-- //wrapper -->

    <script>
        $(function() {
            // 상단 탑버튼 함수
            funcGoToTop();

            // 작년 평균
            var lastYearAverage = {
                id: 'lastYearAverage',
                beforeDatasetsDraw(chart, args, options) {
                    var { ctx, chartArea: { top, right, bottom, left, width, height },
                        scales: { x, y } } = chart;

                    ctx.save();

                    //draw line
                    ctx.strokeStyle = '#b1b1b1';
                    ctx.setLineDash([5, 5]);
                    ctx.strokeRect(left, y.getPixelForValue(0), width, 0); // getPixelForValue에 평균값 추가
                    ctx.restore();
                }
            }

            // 올해평균
            var thisYearAverage = {
                id: 'thisYearAverage',
                beforeDatasetsDraw(chart, args, options) {
                    var { ctx, chartArea: { top, right, bottom, left, width, height },
                        scales: { x, y } } = chart;

                    ctx.save();

                    //draw line
                    ctx.strokeStyle = '#17bf98';
                    ctx.setLineDash([5, 5]);
                    ctx.strokeRect(left, y.getPixelForValue(100000), width, 0); // getPixelForValue에 평균값 추가
                    ctx.restore();
                }
            }

            // 부가세 추이
            var bar1 = {
                data: {
                    datasets: [
                        {
                            type: 'line',
                            label: '',
                            data: [
                                { x: '1월', y: 1200000 },
                                { x: '2월', y: null },
                                { x: '3월', y: null },
                                { x: '4월', y: 1055353 },
                                { x: '5월', y: null },
                                { x: '6월', y: null },
                                { x: '7월', y: 200000 },
                                { x: '8월', y: null },
                                { x: '9월', y: null },
                                { x: '10월', y: 1500000 },
                                { x: '11월', y: null },
                                { x: '12월', y: null },
                            ],
                            borderColor: '#b1b1b1',
                            tension: '0.1', // line 곡선 휘어짐
                            pointRadius: 3, //  line O 크기
                            borderWidth: 2, // line 선 굵기
                            pointBackgroundColor: '#b1b1b1',
                            pointBorderWidth: 0, // line 차트 O 굵기
                            pointHoverRadius: 3,
                            pointHoverBackgroundColor: '#b1b1b1',
                            pointHoverBorderColor: '#b1b1b1',
                            pointHoverBorderWidth: 0,
                            spanGaps: true
                        },
                        {
                            type: 'bar',
                            // label: '매출',
                            data: [40000, 50000, 70000, 40000, 50000, 70000, 40000, 50000, 70000, 40000, 50000, 0],
                            backgroundColor: ['#12997a'],
                            borderRadius: 5,
                            minBarLength: 25,
                        }
                    ],
                    labels: ['1월', '2월', '3월', '4월', '5월', '6월', '7월', '8월', '9월', '10월', '11월', '12월',]
                },
                options: {
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        x: {
                            grid: {
                                display: false,
                                drawBorder: false,
                                beginAtZero: true,
                            },
                            ticks: {
                                color: "#111",
                                font: {
                                    size: 10.5,
                                    family: "Pretendard",
                                    // weight: ['500', '500', '600']
                                },
                                maxRotation: 0,
                                minRotation: 0,
                            },
                        },
                        y: {
                            grid: {
                                drawBorder: false,
                                color: (context) => {
                                    if (context.tick.value === 0) {
                                        return "#e3e3e3"
                                    }
                                }
                            },
                            ticks: { display: false }
                        }
                    },
                    interaction: {
                        mode: 'index' //호버시 믹스차트 데이터 모두 보여줌
                    },
                },
                plugins: [lastYearAverage, thisYearAverage]
            }

            

            // 원천세 추이
            var bar2 = {
                data: {
                    datasets: [
                        {
                            type: 'line',
                            label: '',
                            data: [
                                { x: '1월', y: 1200000 },
                                { x: '2월', y: null },
                                { x: '3월', y: null },
                                { x: '4월', y: 1055353 },
                                { x: '5월', y: null },
                                { x: '6월', y: null },
                                { x: '7월', y: 200000 },
                                { x: '8월', y: null },
                                { x: '9월', y: null },
                                { x: '10월', y: 1500000 },
                                { x: '11월', y: null },
                                { x: '12월', y: null },
                            ],
                            borderColor: '#b1b1b1',
                            tension: '0.1', // line 곡선 휘어짐
                            pointRadius: 3, //  line O 크기
                            borderWidth: 2, // line 선 굵기
                            pointBackgroundColor: '#b1b1b1',
                            pointBorderWidth: 0, // line 차트 O 굵기
                            pointHoverRadius: 3,
                            pointHoverBackgroundColor: '#b1b1b1',
                            pointHoverBorderColor: '#b1b1b1',
                            pointHoverBorderWidth: 0,
                            spanGaps: true
                        },
                        {
                            type: 'bar',
                            // label: '매출',
                            data: [40000, 50000, 70000, 40000, 50000, 70000, 40000, 50000, 70000, 40000, 50000, 0],
                            backgroundColor: ['#12997a'],
                            borderRadius: 5,
                            minBarLength: 25,
                        }
                    ],
                    labels: ['1월', '2월', '3월', '4월', '5월', '6월', '7월', '8월', '9월', '10월', '11월', '12월',]
                },
                options: {
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        x: {
                            grid: {
                                display: false,
                                drawBorder: false,
                                beginAtZero: true,
                            },
                            ticks: {
                                color: "#111",
                                font: {
                                    size: 10.5,
                                    family: "Pretendard",
                                    // weight: ['500', '500', '600']
                                },
                                maxRotation: 0,
                                minRotation: 0,
                            },
                        },
                        y: {
                            grid: {
                                drawBorder: false,
                                color: (context) => {
                                    if (context.tick.value === 0) {
                                        return "#e3e3e3"
                                    }
                                }
                            },
                            ticks: { display: false }
                        }
                    },
                    interaction: {
                        mode: 'index' //호버시 믹스차트 데이터 모두 보여줌
                    },
                },
                plugins: [lastYearAverage, thisYearAverage]
            }

            var barCtx1 = document.getElementById('taxBar').getContext('2d');
            var barChart1 = new Chart(barCtx1, bar1);
            var barCtx2 = document.getElementById('taxBar02').getContext('2d');
            var barChart2 = new Chart(barCtx2, bar2);

            // 응원버튼
            $(".cheeringWrap .cheerList > li").on('click', function () {
                var imgSrc = $(this).find('img').attr('src');
                var cheerTxt = $(this).find('.defTxt02').text();
                var btn = $(".cheeringWrap .areaLike .btnPointBd");

                btn.addClass('pointBgColor');
                btn.find('img').attr('src', imgSrc);
                btn.find('span').text(cheerTxt);
            });
            $(".cheeringWrap .areaLike .btnPointBd").on('click', function () {
                $('.cheeringWrap .cheerList').css('display', 'flex');
            });

            var a = true;
            
            $(document).on('scroll', function () {

                if ($(document).scrollTop() > $(".busiReptWrap").offset().top - 300) {
                    if (a == true) {
                        randomNum("#countNum", 999);
                        a = false;
                    }
                }
            });
            
            // 손익, 세금, 상권탭 클릭시 스크롤 포커스
            $(".tabMenuList.type03 li .btnTab").on('click', function () {
                var headerH = $(".header").height();
                var fixTopH = $(".areaTopFixed").height();
                
                if (fixTopH == undefined) {
                    fixTopH = 0;
                }

                if (headerH == undefined) {
                    headerH = 0;
                }
                
                if ( document.querySelector(".tabMenuList.type03").classList.contains("fixed") == true ) {
                    window.scrollTo({ 
                        top: $(".busiReptCont").offset().top - (headerH + fixTopH + 80), 
                        behavior: 'smooth'
                    });
                } else {
                    window.scrollTo({ 
                        top: $(this).offset().top - (headerH + fixTopH + 30), 
                        behavior: 'smooth'
                    });
                }
            })

             //보고서 탭 좌표값
            var tabPosY = window.pageYOffset + document.querySelector(".tabMenuList.type03").getBoundingClientRect().top; 
            
            // 영역 도달시 탭메뉴 고정
            window.addEventListener('scroll', function() {
                var nowScroll = window.pageYOffset; //현재 스크롤 위치

                if (nowScroll >= tabPosY) {
                    document.querySelector(".tabMenuList.type03").classList.add("fixed");
                } else if (nowScroll <= tabPosY) {
                    document.querySelector(".tabMenuList.type03").classList.remove("fixed");
                }
            })
        })

    </script>
</body>
</html>